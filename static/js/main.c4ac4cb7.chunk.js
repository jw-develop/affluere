(this.webpackJsonpaffluere=this.webpackJsonpaffluere||[]).push([[0],{41:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r,a=n(9),c=n.n(a),i=n(12),s=n(3),l=n(0),u=n.n(l),o=n(13),h=n.n(o),f=(n(41),n(20)),j=n(61),d=n(62),p=n(68),b=n(63),O=n(64),g=n(65),x=n(66),m=n(67),v=n(25),y=n(26),L=n(27),R=n(28),A=n.n(R),w="https://script.google.com/macros/s/AKfycbxcvZ1EHvgmm5Hqlm496clU9FmyaYHHd4zLBWrr9WdL3E4C-UQfjf2FXw/exec";function E(e){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(w,{method:"POST",body:JSON.stringify({auth:"C05056E5-040C-48F2-BDB9-E74D7628CABA",method:t})});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.NORMAL;if(!e)return"";switch(t){case r.NORMAL:return parseFloat(e).toFixed(0);case r.DOLLAR:return"$ "+parseFloat(e).toFixed(2);case r.PERCENT:return"".concat((100*parseFloat(e)).toFixed(2),"%")}}!function(e){e[e.NORMAL=0]="NORMAL",e[e.DOLLAR=1]="DOLLAR",e[e.PERCENT=2]="PERCENT"}(r||(r={}));var k=new(function(){function e(){Object(y.a)(this,e),this.sheets={},this.initialized=!1,this.updating=!1}return Object(L.a)(e,[{key:"getRows",value:function(e){var t=this;return e.reduce((function(e,n){return e.concat(t.sheets[n])}),[])}},{key:"getSheetNames",value:function(){return Object.keys(this.sheets)}},{key:"update",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,i,s,l,u,o,h,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.updating){e.next=2;break}return e.abrupt("return");case 2:return this.updating=!0,e.next=5,E("getSheets");case 5:for(t=e.sent,this.sheets={},n=0,a=Object.entries(t);n<a.length;n++){i=Object(f.a)(a[n],2),s=i[0],l=i[1],u=[],o=Object(v.a)(l);try{for(o.s();!(h=o.n()).done;)j=h.value,u.push({symbol:j[0],holding:j[1],shares:N(j[2]),price:N(j[4],r.DOLLAR),value_current:N(j[5],r.DOLLAR),total_change:N(j[6],r.DOLLAR),total_perc:N(j[7],r.PERCENT),day_change:N(j[9],r.DOLLAR),day_change_perc:N(j[10],r.PERCENT)})}catch(c){o.e(c)}finally{o.f()}this.sheets[s]=u}this.updating=!1;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}());function C(){var e=u.a.useState(k.getSheetNames()),t=Object(f.a)(e,2),n=t[0],r=t[1],a=u.a.useState([{symbol:"AZRE",holding:"Azure Power Global Ltd",shares:"8",price:"45.87",value_current:"358.9",total_change:"240.3",total_perc:"302.46",day_change:"-14.24",day_change_perc:"-3.82"}]),o=Object(f.a)(a,2),h=o[0],v=o[1];function y(){var e=k.getRows(n);e&&(v(e),console.log("Updated"))}function L(){return(L=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.includes(t)?r(n.filter((function(e){return e!==t}))):r(n.concat([t]));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){y();var e=setInterval((function(){y()}),1e4);return function(){return clearInterval(e)}}),[]),Object(s.jsxs)(j.a,{component:d.a,children:[Object(s.jsx)(p.a,{onClick:function(){return y()},children:"Refresh"}),k.getSheetNames().map((function(e){return Object(s.jsx)(p.a,{onClick:function(){return function(e){return L.apply(this,arguments)}(e)},children:e.toLowerCase()},e)})),Object(s.jsxs)(b.a,{"aria-label":"simple table",title:"Holdings Table",children:[Object(s.jsx)(O.a,{children:Object(s.jsxs)(g.a,{children:[Object(s.jsx)(x.a,{children:"Symbol"}),Object(s.jsx)(x.a,{align:"left",children:"Holding"}),Object(s.jsx)(x.a,{align:"left",children:"Shares"}),Object(s.jsx)(x.a,{align:"left",children:"Price"}),Object(s.jsx)(x.a,{align:"left",children:"Current Value"}),Object(s.jsx)(x.a,{align:"left",children:"Total Change"}),Object(s.jsx)(x.a,{align:"left",children:"Total %"}),Object(s.jsx)(x.a,{align:"left",children:"1D Change"}),Object(s.jsx)(x.a,{align:"left",children:"1D %"})]})}),Object(s.jsx)(m.a,{children:h.filter((function(e){return e})).map((function(e,t){return Object(s.jsxs)(g.a,{children:[Object(s.jsx)(x.a,{component:"th",scope:"row",children:e.symbol}),Object(s.jsx)(x.a,{align:"left",children:e.holding}),Object(s.jsx)(x.a,{align:"left",children:e.shares}),Object(s.jsx)(x.a,{align:"left",children:e.price}),Object(s.jsx)(x.a,{align:"left",children:e.value_current}),Object(s.jsx)(x.a,{align:"left",children:e.total_change}),Object(s.jsx)(x.a,{align:"left",children:e.total_perc}),Object(s.jsx)(x.a,{align:"left",children:e.day_change}),Object(s.jsx)(x.a,{align:"left",children:e.day_change_perc})]},t)}))})]})]})}n(46);var D=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("header",{className:"App-header",children:"Kelly and James's super secret stock thing."}),Object(s.jsx)(C,{})]})};function S(){return(S=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=k.update(),"AUNigvLVDKFn"===prompt("Enter PIN")){e.next=5;break}return alert("Unauthorized!"),e.abrupt("return");case 5:return e.next=7,t;case 7:h.a.render(Object(s.jsx)(u.a.StrictMode,{children:Object(s.jsx)(D,{})}),document.getElementById("root"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){S.apply(this,arguments)}()}},[[47,1,2]]]);
//# sourceMappingURL=main.c4ac4cb7.chunk.js.map