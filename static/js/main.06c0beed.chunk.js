(this.webpackJsonpaffluere=this.webpackJsonpaffluere||[]).push([[0],{41:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r,a=n(9),c=n.n(a),s=n(12),i=n(3),l=n(0),u=n.n(l),o=n(13),h=n.n(o),f=(n(41),n(20)),j=n(61),d=n(62),p=n(68),b=n(63),O=n(64),g=n(65),x=n(66),m=n(67),y=n(25),v=n(26),L=n(27),R=n(28),w=n.n(R),A="https://script.google.com/macros/s/AKfycbxcvZ1EHvgmm5Hqlm496clU9FmyaYHHd4zLBWrr9WdL3E4C-UQfjf2FXw/exec";function E(e){return _.apply(this,arguments)}function _(){return(_=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()(A,{method:"POST",body:JSON.stringify({auth:"C05056E5-040C-48F2-BDB9-E74D7628CABA",method:t})});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.NORMAL;if(!e)return"";switch(t){case r.NORMAL:return parseFloat(e).toFixed(0);case r.DOLLAR:return"$ "+parseFloat(e).toFixed(2);case r.PERCENT:return"".concat((100*parseFloat(e)).toFixed(2),"%")}}!function(e){e[e.NORMAL=0]="NORMAL",e[e.DOLLAR=1]="DOLLAR",e[e.PERCENT=2]="PERCENT"}(r||(r={}));var N=new(function(){function e(){Object(v.a)(this,e),this.sheets={},this.initialized=!1,this.updating=!1}return Object(L.a)(e,[{key:"getRows",value:function(e){var t=this;return e.reduce((function(e,n){return e.concat(t.sheets[n])}),[])}},{key:"getSheetNames",value:function(){return Object.keys(this.sheets)}},{key:"update",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,n,a,s,i,l,u,o,h,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.updating){e.next=2;break}return e.abrupt("return");case 2:return this.updating=!0,e.next=5,E("getSheets");case 5:for(t=e.sent,this.sheets={},n=0,a=Object.entries(t);n<a.length;n++){s=Object(f.a)(a[n],2),i=s[0],l=s[1],u=[],o=Object(y.a)(l);try{for(o.s();!(h=o.n()).done;)j=h.value,u.push({symbol:j[0],holding:j[1],shares:k(j[2]),price:k(j[4],r.DOLLAR),value_current:k(j[5],r.DOLLAR),total_change:k(j[6],r.DOLLAR),total_perc:k(j[7],r.PERCENT),day_change:k(j[9],r.DOLLAR),day_change_perc:k(j[10],r.PERCENT)})}catch(c){o.e(c)}finally{o.f()}this.sheets[i]=u}this.updating=!1;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}());function C(){var e=u.a.useState(N.getSheetNames()),t=Object(f.a)(e,2),n=t[0],r=t[1],a=u.a.useState([{symbol:"AZRE",holding:"Azure Power Global Ltd",shares:"8",price:"45.87",value_current:"358.9",total_change:"240.3",total_perc:"302.46",day_change:"-14.24",day_change_perc:"-3.82"}]),o=Object(f.a)(a,2),h=o[0],y=o[1];function v(){var e=N.getRows(n);e&&(y(e),console.log("Updated"))}function L(){return(L=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.includes(t)?r(n.filter((function(e){return e!==t}))):r(n.concat([t]));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){v();var e=setInterval((function(){v()}),1e4);return function(){return clearInterval(e)}}),[]),Object(i.jsxs)(j.a,{component:d.a,children:[Object(i.jsx)(p.a,{onClick:function(){return v()},children:"Refresh"}),N.getSheetNames().map((function(e){return Object(i.jsx)(p.a,{onClick:function(){return function(e){return L.apply(this,arguments)}(e)},children:e.toLowerCase()},e)})),Object(i.jsxs)(b.a,{"aria-label":"simple table",title:"Holdings Table",children:[Object(i.jsx)(O.a,{children:Object(i.jsxs)(g.a,{children:[Object(i.jsx)(x.a,{children:"Symbol"}),Object(i.jsx)(x.a,{align:"left",children:"Holding"}),Object(i.jsx)(x.a,{align:"left",children:"Shares"}),Object(i.jsx)(x.a,{align:"left",children:"Price"}),Object(i.jsx)(x.a,{align:"left",children:"Current Value"}),Object(i.jsx)(x.a,{align:"left",children:"Total Change"}),Object(i.jsx)(x.a,{align:"left",children:"Total %"}),Object(i.jsx)(x.a,{align:"left",children:"1D Change"}),Object(i.jsx)(x.a,{align:"left",children:"1D %"})]})}),Object(i.jsx)(m.a,{children:h.filter((function(e){return e})).map((function(e,t){return Object(i.jsxs)(g.a,{children:[Object(i.jsx)(x.a,{component:"th",scope:"row",children:e.symbol}),Object(i.jsx)(x.a,{align:"left",children:e.holding}),Object(i.jsx)(x.a,{align:"left",children:e.shares}),Object(i.jsx)(x.a,{align:"left",children:e.price}),Object(i.jsx)(x.a,{align:"left",children:e.value_current}),Object(i.jsx)(x.a,{align:"left",children:e.total_change}),Object(i.jsx)(x.a,{align:"left",children:e.total_perc}),Object(i.jsx)(x.a,{align:"left",children:e.day_change}),Object(i.jsx)(x.a,{align:"left",children:e.day_change_perc})]},t)}))})]})]})}n(46);var D=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("header",{className:"App-header",children:"Kelly and James's super secret stock thing."}),Object(i.jsx)(C,{})]})};function S(){return(S=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=N.update(),"DSxqOkB41Vfn"===prompt("Enter PIN")){e.next=5;break}return alert("Unauthorized!"),e.abrupt("return");case 5:return e.next=7,t;case 7:h.a.render(Object(i.jsx)(u.a.StrictMode,{children:Object(i.jsx)(D,{})}),document.getElementById("root"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){S.apply(this,arguments)}()}},[[47,1,2]]]);
//# sourceMappingURL=main.06c0beed.chunk.js.map